{% extends 'portal_base.html' %}
{% block title %}Manage Properties{% endblock %}
{% block contents %}
<div class="dashboard_content">
    <h2 class="dashboard_title">
        My properties
        <a class="common_btn" href="{% url 'property:backend_create' %}" hx-get="{% url 'property:backend_create' %}"
            hx-target="#content" hx-push-url="true">
            + add property
        </a>
    </h2>

    <input type="text" name="q" id="search" placeholder="Search properties..." class="form-control mb-3"
        hx-get="{% url 'property:backend_htmx_list' %}" hx-target="#property-table-body"
        hx-trigger="keyup changed delay:500ms" autocomplete="off" />

    <div class="overview_listing wow fadeInUp" data-wow-duration="1.5s">
        <div class="table-responsive">
            <table>
                <thead>
                    <tr>
                        <th class="images">images</th>
                        <th class="details">details</th>
                        <th class="status">type/area</th>
                        <th class="status">Country/City</th>
                        <th class="status">price</th>
                        <th class="status">Purpose</th>
                        <th class="action">action</th>
                    </tr>
                </thead>
                <tbody id="property-table-body" hx-get="{% url 'property:backend_htmx_list' %}" hx-trigger="load"
                    hx-swap="innerHTML">
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .property-table td {
        vertical-align: middle;
        padding: 12px 10px;
    }

    .property-title {
        font-weight: 600;
        font-size: 15px;
    }

    .property-icons i {
        margin-right: 4px;
        color: #6c757d;
    }

    .price {
        font-weight: 700;
        color: #0d6efd;
    }

    .badge-purpose {
        padding: 4px 8px;
        font-size: 12px;
        border-radius: 6px;
    }

    .badge-sale {
        background: #e7f1ff;
        color: #0d6efd;
    }

    .badge-rent {
        background: #fff4e5;
        color: #ff9800;
    }

    .action a {
        display: inline-block;
        margin-right: 10px;
        font-size: 14px;
        color: #0d6efd;
    }

    .action a.delete {
        color: #dc3545;
    }
</style>
{% endblock %}