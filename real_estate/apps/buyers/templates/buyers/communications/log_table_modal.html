<div class="d-flex justify-content-between align-items-center mb-3">
    <h6 class="m-0">Communications for {{ buyer.name }}</h6>

    <button class="btn btn-sm btn-primary" hx-get="{% url 'buyers:create_log' buyer.id %}" hx-target="#modal-body"
        hx-swap="innerHTML">
        + Add Communication
    </button>
</div>

<table class="table table-hover align-middle text-nowrap">
    <thead class="table-light">
        <tr class="fw-semibold">
            <th>#</th>
            <th>Type</th>
            <th>Content</th>
            <th>Assigned To</th>
            <th>Created On</th>
            <th>Reminder</th>
        </tr>
    </thead>
    <tbody>
        {% for log in logs %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ log.get_communication_type_display }}</td>
            <td>{{ log.content|default:"—" }}</td>
            <td>{{ log.assigned_by.first_name|default:log.assigned_by.username|default:"—" }}</td>
            <td>{{ log.created_at }}</td>
            <td>
                {% if log.reminder_date %}
                {{ log.reminder_date }}
                {% else %}
                —
                {% endif %}
                {% if log.reminder_time %}
                {{ log.reminder_time|time:"h:i A" }}
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6" class="text-center text-muted">No communications recorded yet.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>